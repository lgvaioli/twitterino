(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(2),l=n.n(s),o=(n(13),n(7)),u=n(3),c=n(4),i=n(6),m=n(5);n(14),n(15);var p=function(e){return r.a.createElement("div",{className:"UserInfoView"},r.a.createElement("img",{src:e.user.profilePicUrl,alt:"profile pic"}),r.a.createElement("p",null,"Username: ",r.a.createElement("b",null,e.user.username)),r.a.createElement("p",null,"Following: ",r.a.createElement("b",null,e.user.following)),r.a.createElement("p",null,"Followers: ",r.a.createElement("b",null,e.user.followers)),r.a.createElement("p",null,"Tweets count: ",r.a.createElement("b",null,e.user.tweetsCount)),r.a.createElement("p",null,"Current status: ",r.a.createElement("b",null,e.user.currentStatus)))},h=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onInputChange=function(e){var t="";t=e.target.value.length>280?e.target.value.slice(0,280):e.target.value,a.setState({input:t})},a.onButtonClick=function(){if(""!==a.state.input){var e=new Headers;e.append("Content-Type","application/x-www-form-urlencoded");var t=new URLSearchParams;t.append("message",a.state.input),fetch("/message",{method:"POST",headers:e,body:t,redirect:"follow"}).then((function(e){if(200==e.status){var t=Object(o.a)({},a.state.user);t.tweetsCount+=1,t.currentStatus=a.state.input,a.setState({user:t,input:""}),alert("Tweet was successful!")}else alert("Could not tweet message: ".concat(e.text()))})).catch((function(e){return alert("Unexpected error: ".concat(e))}))}else alert("You can't send an empty message")},a.state={input:"",user:{}},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/user").then((function(e){return e.json()})).then((function(t){e.setState({user:t})})).catch((function(e){return alert(e)}))}},{key:"render",value:function(){var e=this.state.input.length>=140?{visibility:"visible"}:{visibility:"hidden"};return r.a.createElement("div",{className:"app"},r.a.createElement(p,{user:this.state.user}),r.a.createElement("h1",null,"Let's tweet a message!"),r.a.createElement("p",{id:"chars-left",style:e},280-this.state.input.length," characters left"),r.a.createElement("input",{type:"text",onChange:this.onInputChange,value:this.state.input,placeholder:"Write your message here"}),r.a.createElement("button",{onClick:this.onButtonClick},"Send"))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.4b361da3.chunk.js.map